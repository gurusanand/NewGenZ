# NewGenZ Application - OpenAI Integration Updates

This document outlines the recent updates to the NewGenZ AI Insurance Platform, focusing on the integration of the OpenAI API for dynamic content generation in the 'Workflow Designer', 'Travel Insurance Chatbot', and 'Quick Quote Form' sections.

## Key Changes Implemented

### 1. OpenAI API Integration
- A new `OpenAIClient` class has been introduced in `components/openai_client.py` to handle interactions with the OpenAI API. This client is responsible for sending prompts and receiving responses from OpenAI.
- The application now uses real-time data from OpenAI for various functionalities, replacing previously static or mock data.

### 2. Workflow Designer (`appplus.py`)
- The `execute_real_workflow` function in `appplus.py` has been modified to leverage the OpenAI API for generating optimal workflows and travel advisories. When a user inputs a task like "travel to Iran", the system now queries OpenAI for up-to-date information and recommendations.

### 3. Travel Insurance Chatbot (`appplus1.py`)
- The `generate_travel_insurance_response` function in `appplus1.py` has been updated to use the OpenAI API. When a user types a country name into the chatbot, OpenAI generates a concise travel insurance recommendation and relevant advisories based on real-time information.

### 4. Quick Quote Form (`appplus1.py`)
- The `generate_travel_quote` and `get_weather_risk_factor` functions in `appplus1.py` now integrate with the OpenAI API. This allows for dynamic generation of travel insurance quotes, including total premium, explanation of factors, and weather risk assessment, all powered by OpenAI's capabilities.

## Setup and Running the Application

1.  **Prerequisites:**
    - Python 3.x
    - `pip` (Python package installer)
    - OpenAI API Key

2.  **Clone the repository (if not already done):**
    ```bash
    git clone <repository_url>
    cd NewGenZ
    ```

3.  **Set up your OpenAI API Key:**
    - Create a file named `.env` in the `NewGenZ` directory (if it doesn't exist).
    - Add your OpenAI API key to this file in the following format:
      ```
      OPENAI_API_KEY="your_openai_api_key_here"
      ```
      **Replace `"your_openai_api_key_here"` with your actual OpenAI API key.**

4.  **Install dependencies:**
    ```bash
    pip install -r requirements.txt
    pip install openai
    ```

5.  **Run the Streamlit application:**
    ```bash
    streamlit run appplus.py
    ```

6.  **Access the application:**
    - Once the application starts, it will provide a local URL (e.g., `http://localhost:8501`). Open this URL in your web browser.

## How to Test the OpenAI Integration

### 1. Workflow Designer
- In the sidebar, select **Workflow Designer**.
- In the **Describe your task or query:** input field, type a task like `travel to Iran`.
- Click the **Generate & Execute Workflow** button.
- Observe the dynamically generated travel advisory and workflow steps, which should reflect real-time information from OpenAI.

### 2. Travel Insurance Chatbot
- In the sidebar, select **Travel Insurance Chatbot**.
- In the chat input field, type a country name (e.g., `Iran`).
- Click the **Send** button.
- The chatbot's response should be a concise travel insurance recommendation and relevant advisories, dynamically generated by OpenAI.

### 3. Quick Quote Form
- In the sidebar, select **Embedded Insurance APIs**.
- Then, select **Quick Quote Form**.
- Fill in the form fields:
    - **Destination:** Enter a country name (e.g., `Iran`)
    - **Departure Date:** Select a date
    - **Return Date:** Select a date
    - **Travelers:** Enter the number of travelers
    - **Coverage Type:** Select a coverage type
    - **Trip Cost:** Enter the trip cost
- Click the **Get Quote** button.
- The generated quote, including the total premium, explanation, and weather risk factor, should be dynamically powered by OpenAI.

## Troubleshooting

- If you encounter issues, ensure your OpenAI API key is correctly set in the `.env` file.
- Check the terminal where you ran `streamlit run appplus.py` for any error messages.
- Ensure you have an active internet connection for OpenAI API calls.



